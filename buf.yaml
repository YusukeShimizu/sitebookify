version: v2

# This repository uses Buf to manage Protobuf schemas.
# - https://buf.build/docs
# - https://google.aip.dev (API design guidelines)
# - https://github.com/bufbuild/protovalidate (validation annotations)
#
# Notes:
# - `proto/` is the single source of truth for schemas.
# - Dependencies are pinned via `buf.lock` (generated by `buf dep update`).
modules:
  - path: proto

deps:
  - buf.build/googleapis/googleapis
  - buf.build/bufbuild/protovalidate

lint:
  use:
    # STANDARD is a pragmatic baseline that keeps this template language-agnostic.
    - STANDARD
  except:
    # AIP commonly returns the resource directly for Get/Create/Update.
    - RPC_RESPONSE_STANDARD_NAME
    # AIP commonly reuses the resource message across multiple RPCs.
    - RPC_REQUEST_RESPONSE_UNIQUE

breaking:
  use:
    # FILE is suitable for early-stage schemas and template repos.
    - FILE
